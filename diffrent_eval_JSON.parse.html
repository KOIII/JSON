<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>eval()和JSONparse()的不同</title>
  </head>
  <body>
    <script>

      'use strict';

      var value = 1;
      var jsonstr = '{"data1":"hello","data2":++value}';

      var data1 = eval( '('+jsonstr+')' );
      console.log(data1);    //  Object { data1="hello",  data2=2}

      var data2 = JSON.parse( jsonstr );
      console.log(data2);    //  SyntaxError: JSON.parse: unexpected character at line 1 column 26 of the JSON data


      //  eval在解析字符串时，会执行该字符串中的代码（这样的后果是相当恶劣的）
      //  所以在代码中使用eval()是很危險的，特別是用它执行第三方的JSON数据（其中可能包含恶意代码）时
      //  尽可能使用JSON.parse()方法解析字符串本身

    </script>
  </body>
</html>
